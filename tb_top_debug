#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x15b66f890 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x15b6734a0 .scope module, "tb_top_debug" "tb_top_debug" 3 12;
 .timescale -9 -12;
P_0x15b607e10 .param/l "CLK_PERIOD" 0 3 17, +C4<00000000000000000000000001100100>;
P_0x15b607e50 .param/l "DEBOUNCE_TIME" 0 3 18, +C4<00000000000000000000011111010000>;
v0x15b6976d0_0 .var/i "cycle_count", 31 0;
v0x15b697790_0 .var "keypad_cols", 3 0;
v0x15b697870_0 .net "keypad_rows", 3 0, v0x15b6950f0_0;  1 drivers
v0x15b697940_0 .var "reset", 0 0;
v0x15b697a50_0 .net "seg", 6 0, L_0x15b6984e0;  1 drivers
v0x15b697b20_0 .net "select0", 0 0, L_0x15b698550;  1 drivers
v0x15b697bf0_0 .net "select1", 0 0, L_0x15b6985c0;  1 drivers
v0x15b697cc0_0 .var/i "test_count", 31 0;
v0x15b697d50_0 .var/i "timeout_count", 31 0;
S_0x15b66fbb0 .scope task, "display_debouncer_state" "display_debouncer_state" 3 84, 3 84 0, S_0x15b6734a0;
 .timescale -9 -12;
TD_tb_top_debug.display_debouncer_state ;
    %load/vec4 v0x15b6929d0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_0.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_0.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_0.2, 6;
    %vpi_call/w 3 91 "$display", "[%0t] DEBOUNCER: State = UNKNOWN", $time {0 0 0};
    %jmp T_0.4;
T_0.0 ;
    %vpi_call/w 3 86 "$display", "[%0t] DEBOUNCER: State = IDLE, Count = %0d", $time, v0x15b692a60_0 {0 0 0};
    %jmp T_0.4;
T_0.1 ;
    %vpi_call/w 3 88 "$display", "[%0t] DEBOUNCER: State = DEBOUNCING, Count = %0d/%0d", $time, v0x15b692a60_0, P_0x15b607e50 {0 0 0};
    %jmp T_0.4;
T_0.2 ;
    %vpi_call/w 3 90 "$display", "[%0t] DEBOUNCER: State = KEY_HELD", $time {0 0 0};
    %jmp T_0.4;
T_0.4 ;
    %pop/vec4 1;
    %end;
S_0x15b664e60 .scope task, "display_display_state" "display_display_state" 3 65, 3 65 0, S_0x15b6734a0;
 .timescale -9 -12;
TD_tb_top_debug.display_display_state ;
    %vpi_call/w 3 66 "$display", "[%0t] DISPLAY: Digit_L=0x%h Digit_R=0x%h", $time, v0x15b695ab0_0, v0x15b695bc0_0 {0 0 0};
    %end;
S_0x15b673b60 .scope task, "display_keypad_state" "display_keypad_state" 3 60, 3 60 0, S_0x15b6734a0;
 .timescale -9 -12;
TD_tb_top_debug.display_keypad_state ;
    %vpi_call/w 3 61 "$display", "[%0t] KEYPAD: Row_idx=%b Col_sync=%b Key_det=%b Key_val=%b Deb_key=0x%h Scan_stop=%b", $time, v0x15b6960b0_0, v0x15b695910_0, v0x15b695c50_0, v0x15b695d20_0, v0x15b6959e0_0, v0x15b696180_0 {0 0 0};
    %end;
S_0x15b607880 .scope task, "display_scanner_state" "display_scanner_state" 3 70, 3 70 0, S_0x15b6734a0;
 .timescale -9 -12;
TD_tb_top_debug.display_scanner_state ;
    %load/vec4 v0x15b694e80_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_3.5, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_3.6, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_3.7, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_3.8, 6;
    %vpi_call/w 3 80 "$display", "[%0t] SCANNER: State = UNKNOWN", $time {0 0 0};
    %jmp T_3.10;
T_3.5 ;
    %vpi_call/w 3 72 "$display", "[%0t] SCANNER: State = SCAN_ROW0, Timeout = %b", $time, v0x15b695690_0 {0 0 0};
    %jmp T_3.10;
T_3.6 ;
    %vpi_call/w 3 74 "$display", "[%0t] SCANNER: State = SCAN_ROW1, Timeout = %b", $time, v0x15b695690_0 {0 0 0};
    %jmp T_3.10;
T_3.7 ;
    %vpi_call/w 3 76 "$display", "[%0t] SCANNER: State = SCAN_ROW2, Timeout = %b", $time, v0x15b695690_0 {0 0 0};
    %jmp T_3.10;
T_3.8 ;
    %vpi_call/w 3 78 "$display", "[%0t] SCANNER: State = SCAN_ROW3, Timeout = %b", $time, v0x15b695690_0 {0 0 0};
    %jmp T_3.10;
T_3.10 ;
    %pop/vec4 1;
    %end;
S_0x15b6079f0 .scope task, "display_system_state" "display_system_state" 3 55, 3 55 0, S_0x15b6734a0;
 .timescale -9 -12;
TD_tb_top_debug.display_system_state ;
    %vpi_call/w 3 56 "$display", "[%0t] SYSTEM: Rows=%b Cols=%b Seg=%b Sel0=%b Sel1=%b", $time, v0x15b697870_0, v0x15b697790_0, v0x15b697a50_0, v0x15b697b20_0, v0x15b697bf0_0 {0 0 0};
    %end;
S_0x15b64a960 .scope module, "dut" "lab3_top" 3 38, 4 13 0, S_0x15b6734a0;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "reset";
    .port_info 1 /OUTPUT 4 "keypad_rows";
    .port_info 2 /INPUT 4 "keypad_cols";
    .port_info 3 /OUTPUT 7 "seg";
    .port_info 4 /OUTPUT 1 "select0";
    .port_info 5 /OUTPUT 1 "select1";
L_0x15b6986b0 .functor NOT 1, v0x15b697940_0, C4<0>, C4<0>, C4<0>;
v0x15b695760_0 .var "clk", 0 0;
v0x15b695880_0 .var "col_onehot", 3 0;
v0x15b695910_0 .net "col_sync", 3 0, L_0x15b697f70;  1 drivers
v0x15b6959e0_0 .net "debounced_key", 3 0, v0x15b692af0_0;  1 drivers
v0x15b695ab0_0 .net "digit_left", 3 0, v0x15b691ff0_0;  1 drivers
v0x15b695bc0_0 .net "digit_right", 3 0, v0x15b692150_0;  1 drivers
v0x15b695c50_0 .net "key_detected", 0 0, L_0x15b697fe0;  1 drivers
v0x15b695d20_0 .net "key_valid", 0 0, v0x15b692cf0_0;  1 drivers
v0x15b695df0_0 .net "keypad_cols", 3 0, v0x15b697790_0;  1 drivers
v0x15b695f00_0 .net "keypad_rows", 3 0, v0x15b6950f0_0;  alias, 1 drivers
v0x15b695f90_0 .net "raw_key_code", 3 0, v0x15b693450_0;  1 drivers
v0x15b696020_0 .net "reset", 0 0, v0x15b697940_0;  1 drivers
v0x15b6960b0_0 .net "row_idx", 3 0, v0x15b695180_0;  1 drivers
v0x15b696180_0 .net "scan_stop", 0 0, v0x15b693000_0;  1 drivers
v0x15b696250_0 .net "seg", 6 0, L_0x15b6984e0;  alias, 1 drivers
v0x15b6962e0_0 .net "select0", 0 0, L_0x15b698550;  alias, 1 drivers
v0x15b696370_0 .net "select1", 0 0, L_0x15b6985c0;  alias, 1 drivers
E_0x15b665700 .event anyedge, v0x15b692940_0;
S_0x15b64aad0 .scope module, "controller_inst" "keypad_controller" 4 111, 5 11 0, S_0x15b64a960;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 4 "key_code";
    .port_info 3 /INPUT 1 "key_valid";
    .port_info 4 /OUTPUT 4 "digit_left";
    .port_info 5 /OUTPUT 4 "digit_right";
v0x15b67de40_0 .net "clk", 0 0, v0x15b695760_0;  1 drivers
v0x15b691d10_0 .net "digit_left", 3 0, v0x15b691ff0_0;  alias, 1 drivers
v0x15b691db0_0 .net "digit_right", 3 0, v0x15b692150_0;  alias, 1 drivers
v0x15b691e60_0 .net "key_code", 3 0, v0x15b692af0_0;  alias, 1 drivers
v0x15b691f10_0 .net "key_valid", 0 0, v0x15b692cf0_0;  alias, 1 drivers
v0x15b691ff0_0 .var "left_digit_reg", 3 0;
v0x15b6920a0_0 .var "new_key", 3 0;
v0x15b692150_0 .var "right_digit_reg", 3 0;
v0x15b692200_0 .net "rst_n", 0 0, v0x15b697940_0;  alias, 1 drivers
v0x15b692310_0 .var "state", 2 0;
E_0x15b608c40/0 .event negedge, v0x15b692200_0;
E_0x15b608c40/1 .event posedge, v0x15b67de40_0;
E_0x15b608c40 .event/or E_0x15b608c40/0, E_0x15b608c40/1;
S_0x15b692440 .scope module, "debouncer_inst" "keypad_debouncer" 4 96, 6 12 0, S_0x15b64a960;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 4 "key_code";
    .port_info 3 /INPUT 4 "col";
    .port_info 4 /INPUT 1 "key_detected";
    .port_info 5 /OUTPUT 1 "key_valid";
    .port_info 6 /OUTPUT 4 "debounced_key";
    .port_info 7 /OUTPUT 1 "scan_stop";
P_0x15b692600 .param/l "DEBOUNCE_MAX" 1 6 43, +C4<00000000000000001110101001011111>;
enum0x15b650c50 .enum4 (2)
   "IDLE" 2'b00,
   "DEBOUNCING" 2'b01,
   "KEY_HELD" 2'b10
 ;
v0x15b692880_0 .net "clk", 0 0, v0x15b695760_0;  alias, 1 drivers
v0x15b692940_0 .net "col", 3 0, L_0x15b697f70;  alias, 1 drivers
v0x15b6929d0_0 .var "current_state", 1 0;
v0x15b692a60_0 .var "debounce_cnt", 19 0;
v0x15b692af0_0 .var "debounced_key", 3 0;
v0x15b692bc0_0 .net "key_code", 3 0, v0x15b693450_0;  alias, 1 drivers
v0x15b692c50_0 .net "key_detected", 0 0, L_0x15b697fe0;  alias, 1 drivers
v0x15b692cf0_0 .var "key_valid", 0 0;
v0x15b692da0_0 .var "l_key", 3 0;
v0x15b692ec0_0 .net "rst_n", 0 0, v0x15b697940_0;  alias, 1 drivers
v0x15b692f70_0 .var "saved_col", 3 0;
v0x15b693000_0 .var "scan_stop", 0 0;
E_0x15b692800 .event posedge, v0x15b67de40_0;
E_0x15b692840 .event anyedge, v0x15b6929d0_0, v0x15b692a60_0, v0x15b692da0_0;
S_0x15b693130 .scope module, "decoder_inst" "keypad_decoder" 4 87, 7 10 0, S_0x15b64a960;
 .timescale -9 -12;
    .port_info 0 /INPUT 4 "row_onehot";
    .port_info 1 /INPUT 4 "col_onehot";
    .port_info 2 /OUTPUT 4 "key_code";
v0x15b6933a0_0 .net "col_onehot", 3 0, v0x15b695880_0;  1 drivers
v0x15b693450_0 .var "key_code", 3 0;
v0x15b693510_0 .net "row_onehot", 3 0, v0x15b695180_0;  alias, 1 drivers
E_0x15b693360 .event anyedge, v0x15b693510_0, v0x15b6933a0_0;
S_0x15b693610 .scope module, "display_system" "Lab2_ES" 4 125, 8 10 0, S_0x15b64a960;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 4 "s0";
    .port_info 3 /INPUT 4 "s1";
    .port_info 4 /OUTPUT 7 "seg";
    .port_info 5 /OUTPUT 1 "select0";
    .port_info 6 /OUTPUT 1 "select1";
L_0x15b6984e0 .functor BUFZ 7, v0x15b693c50_0, C4<0000000>, C4<0000000>, C4<0000000>;
L_0x15b698550 .functor NOT 1, L_0x15b6981e0, C4<0>, C4<0>, C4<0>;
L_0x15b6985c0 .functor BUFZ 1, L_0x15b6981e0, C4<0>, C4<0>, C4<0>;
v0x15b693d10_0 .net "clk", 0 0, v0x15b695760_0;  alias, 1 drivers
v0x15b693de0_0 .net "digit_to_display", 3 0, L_0x15b6982c0;  1 drivers
v0x15b693e80_0 .var "mux_counter", 15 0;
v0x15b693f30_0 .net "mux_select", 0 0, L_0x15b6981e0;  1 drivers
v0x15b693fd0_0 .net "reset", 0 0, L_0x15b6986b0;  1 drivers
v0x15b6940b0_0 .net "s0", 3 0, v0x15b691ff0_0;  alias, 1 drivers
v0x15b694150_0 .net "s1", 3 0, v0x15b692150_0;  alias, 1 drivers
v0x15b694200_0 .net "seg", 6 0, L_0x15b6984e0;  alias, 1 drivers
v0x15b6942a0_0 .net "seg_out", 6 0, v0x15b693c50_0;  1 drivers
v0x15b6943e0_0 .net "select0", 0 0, L_0x15b698550;  alias, 1 drivers
v0x15b694470_0 .net "select1", 0 0, L_0x15b6985c0;  alias, 1 drivers
E_0x15b6938c0 .event posedge, v0x15b693fd0_0, v0x15b67de40_0;
L_0x15b6981e0 .part v0x15b693e80_0, 12, 1;
L_0x15b6982c0 .functor MUXZ 4, v0x15b691ff0_0, v0x15b692150_0, L_0x15b6981e0, C4<>;
S_0x15b693920 .scope module, "seg_decoder" "seven_segment" 8 44, 9 9 0, S_0x15b693610;
 .timescale -9 -12;
    .port_info 0 /INPUT 4 "num";
    .port_info 1 /OUTPUT 7 "seg";
v0x15b693b90_0 .net "num", 3 0, L_0x15b6982c0;  alias, 1 drivers
v0x15b693c50_0 .var "seg", 6 0;
E_0x15b693b30 .event anyedge, v0x15b693b90_0;
S_0x15b694580 .scope module, "scanner_inst" "keypad_scanner" 4 58, 10 10 0, S_0x15b64a960;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /OUTPUT 4 "row";
    .port_info 3 /INPUT 4 "col";
    .port_info 4 /OUTPUT 4 "row_idx";
    .port_info 5 /OUTPUT 4 "col_sync";
    .port_info 6 /OUTPUT 1 "key_detected";
    .port_info 7 /INPUT 1 "scan_stop";
P_0x15b694740 .param/l "SCAN_PERIOD" 1 10 24, +C4<00000000000000000001011101101111>;
enum0x15b650070 .enum4 (2)
   "SCAN_ROW0" 2'b00,
   "SCAN_ROW1" 2'b01,
   "SCAN_ROW2" 2'b10,
   "SCAN_ROW3" 2'b11
 ;
L_0x15b697f70 .functor BUFZ 4, v0x15b694dd0_0, C4<0000>, C4<0000>, C4<0000>;
L_0x160098010 .functor BUFT 1, C4<00000000000000000001011101101111>, C4<0>, C4<0>, C4<0>;
v0x15b694a10_0 .net/2u *"_ivl_0", 31 0, L_0x160098010;  1 drivers
L_0x160098058 .functor BUFT 1, C4<1111>, C4<0>, C4<0>, C4<0>;
v0x15b694ad0_0 .net/2u *"_ivl_6", 3 0, L_0x160098058;  1 drivers
v0x15b694b70_0 .net "clk", 0 0, v0x15b695760_0;  alias, 1 drivers
v0x15b694c00_0 .net "col", 3 0, v0x15b697790_0;  alias, 1 drivers
v0x15b694c90_0 .net "col_sync", 3 0, L_0x15b697f70;  alias, 1 drivers
v0x15b694d30_0 .var "col_sync1", 3 0;
v0x15b694dd0_0 .var "col_sync2", 3 0;
v0x15b694e80_0 .var "current_state", 1 0;
v0x15b694f30_0 .net "key_detected", 0 0, L_0x15b697fe0;  alias, 1 drivers
v0x15b695060_0 .var "next_state", 1 0;
v0x15b6950f0_0 .var "row", 3 0;
v0x15b695180_0 .var "row_idx", 3 0;
v0x15b695230_0 .var "row_sync1", 3 0;
v0x15b6952d0_0 .var "row_sync2", 3 0;
v0x15b695380_0 .net "rst_n", 0 0, v0x15b697940_0;  alias, 1 drivers
v0x15b695450_0 .var "scan_counter", 31 0;
v0x15b695500_0 .net "scan_stop", 0 0, v0x15b693000_0;  alias, 1 drivers
v0x15b695690_0 .net "scan_timeout", 0 0, L_0x15b697e90;  1 drivers
E_0x15b694940 .event anyedge, v0x15b694e80_0;
E_0x15b6949a0 .event anyedge, v0x15b694e80_0, v0x15b693000_0, v0x15b695690_0;
L_0x15b697e90 .cmp/ge 32, v0x15b695450_0, L_0x160098010;
L_0x15b697fe0 .cmp/ne 4, v0x15b694dd0_0, L_0x160098058;
S_0x15b696500 .scope function.str, "get_key_name" "get_key_name" 3 117, 3 117 0, S_0x15b6734a0;
 .timescale -9 -12;
; Variable get_key_name is string return value of scope S_0x15b696500
v0x15b696710_0 .var "key", 3 0;
TD_tb_top_debug.get_key_name ;
    %load/vec4 v0x15b696710_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 4;
    %cmp/u;
    %jmp/1 T_5.11, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 4;
    %cmp/u;
    %jmp/1 T_5.12, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 4;
    %cmp/u;
    %jmp/1 T_5.13, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 4;
    %cmp/u;
    %jmp/1 T_5.14, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 4;
    %cmp/u;
    %jmp/1 T_5.15, 6;
    %dup/vec4;
    %pushi/vec4 5, 0, 4;
    %cmp/u;
    %jmp/1 T_5.16, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 4;
    %cmp/u;
    %jmp/1 T_5.17, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_5.18, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 4;
    %cmp/u;
    %jmp/1 T_5.19, 6;
    %dup/vec4;
    %pushi/vec4 9, 0, 4;
    %cmp/u;
    %jmp/1 T_5.20, 6;
    %dup/vec4;
    %pushi/vec4 10, 0, 4;
    %cmp/u;
    %jmp/1 T_5.21, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_5.22, 6;
    %dup/vec4;
    %pushi/vec4 12, 0, 4;
    %cmp/u;
    %jmp/1 T_5.23, 6;
    %dup/vec4;
    %pushi/vec4 13, 0, 4;
    %cmp/u;
    %jmp/1 T_5.24, 6;
    %dup/vec4;
    %pushi/vec4 14, 0, 4;
    %cmp/u;
    %jmp/1 T_5.25, 6;
    %dup/vec4;
    %pushi/vec4 15, 0, 4;
    %cmp/u;
    %jmp/1 T_5.26, 6;
    %pushi/str "?";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.11 ;
    %pushi/str "0";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.12 ;
    %pushi/str "1";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.13 ;
    %pushi/str "2";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.14 ;
    %pushi/str "3";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.15 ;
    %pushi/str "4";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.16 ;
    %pushi/str "5";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.17 ;
    %pushi/str "6";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.18 ;
    %pushi/str "7";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.19 ;
    %pushi/str "8";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.20 ;
    %pushi/str "9";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.21 ;
    %pushi/str "A";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.22 ;
    %pushi/str "B";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.23 ;
    %pushi/str "C";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.24 ;
    %pushi/str "D";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.25 ;
    %pushi/str "E";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.26 ;
    %pushi/str "F";
    %ret/str 0; Assign to get_key_name
    %disable/flow S_0x15b696500;
    %jmp T_5.28;
T_5.28 ;
    %pop/vec4 1;
    %end;
S_0x15b6967b0 .scope function.str, "get_seg_display" "get_seg_display" 3 95, 3 95 0, S_0x15b6734a0;
 .timescale -9 -12;
; Variable get_seg_display is string return value of scope S_0x15b6967b0
v0x15b696a00_0 .var "seg_val", 6 0;
TD_tb_top_debug.get_seg_display ;
    %load/vec4 v0x15b696a00_0;
    %dup/vec4;
    %pushi/vec4 64, 0, 7;
    %cmp/u;
    %jmp/1 T_6.29, 6;
    %dup/vec4;
    %pushi/vec4 121, 0, 7;
    %cmp/u;
    %jmp/1 T_6.30, 6;
    %dup/vec4;
    %pushi/vec4 36, 0, 7;
    %cmp/u;
    %jmp/1 T_6.31, 6;
    %dup/vec4;
    %pushi/vec4 48, 0, 7;
    %cmp/u;
    %jmp/1 T_6.32, 6;
    %dup/vec4;
    %pushi/vec4 25, 0, 7;
    %cmp/u;
    %jmp/1 T_6.33, 6;
    %dup/vec4;
    %pushi/vec4 18, 0, 7;
    %cmp/u;
    %jmp/1 T_6.34, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 7;
    %cmp/u;
    %jmp/1 T_6.35, 6;
    %dup/vec4;
    %pushi/vec4 120, 0, 7;
    %cmp/u;
    %jmp/1 T_6.36, 6;
    %dup/vec4;
    %pushi/vec4 0, 0, 7;
    %cmp/u;
    %jmp/1 T_6.37, 6;
    %dup/vec4;
    %pushi/vec4 16, 0, 7;
    %cmp/u;
    %jmp/1 T_6.38, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 7;
    %cmp/u;
    %jmp/1 T_6.39, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 7;
    %cmp/u;
    %jmp/1 T_6.40, 6;
    %dup/vec4;
    %pushi/vec4 70, 0, 7;
    %cmp/u;
    %jmp/1 T_6.41, 6;
    %dup/vec4;
    %pushi/vec4 33, 0, 7;
    %cmp/u;
    %jmp/1 T_6.42, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 7;
    %cmp/u;
    %jmp/1 T_6.43, 6;
    %dup/vec4;
    %pushi/vec4 14, 0, 7;
    %cmp/u;
    %jmp/1 T_6.44, 6;
    %pushi/str "?";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.29 ;
    %pushi/str "0";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.30 ;
    %pushi/str "1";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.31 ;
    %pushi/str "2";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.32 ;
    %pushi/str "3";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.33 ;
    %pushi/str "4";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.34 ;
    %pushi/str "5";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.35 ;
    %pushi/str "6";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.36 ;
    %pushi/str "7";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.37 ;
    %pushi/str "8";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.38 ;
    %pushi/str "9";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.39 ;
    %pushi/str "A";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.40 ;
    %pushi/str "b";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.41 ;
    %pushi/str "C";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.42 ;
    %pushi/str "d";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.43 ;
    %pushi/str "E";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.44 ;
    %pushi/str "F";
    %ret/str 0; Assign to get_seg_display
    %disable/flow S_0x15b6967b0;
    %jmp T_6.46;
T_6.46 ;
    %pop/vec4 1;
    %end;
S_0x15b696ab0 .scope task, "press_key" "press_key" 3 139, 3 139 0, S_0x15b6734a0;
 .timescale -9 -12;
v0x15b696cf0_0 .var "col_val", 3 0;
v0x15b696db0_0 .var/str "key_name";
TD_tb_top_debug.press_key ;
    %vpi_call/w 3 143 "$display", "\012[%0t] Pressing %s (Col=%b)...", $time, v0x15b696db0_0, v0x15b696cf0_0 {0 0 0};
    %load/vec4 v0x15b696cf0_0;
    %store/vec4 v0x15b697790_0, 0, 4;
    %end;
S_0x15b696e50 .scope task, "release_key" "release_key" 3 147, 3 147 0, S_0x15b6734a0;
 .timescale -9 -12;
TD_tb_top_debug.release_key ;
    %vpi_call/w 3 148 "$display", "[%0t] Releasing key...", $time {0 0 0};
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b697790_0, 0, 4;
    %end;
S_0x15b697010 .scope task, "test_key_sequence" "test_key_sequence" 3 182, 3 182 0, S_0x15b6734a0;
 .timescale -9 -12;
v0x15b6971d0_0 .var "col_val", 3 0;
v0x15b697260_0 .var "expected_key", 3 0;
v0x15b697300_0 .var/str "key_name";
TD_tb_top_debug.test_key_sequence ;
    %load/vec4 v0x15b6971d0_0;
    %store/vec4 v0x15b696cf0_0, 0, 4;
    %load/str v0x15b697300_0;
    %store/str v0x15b696db0_0;
    %fork TD_tb_top_debug.press_key, S_0x15b696ab0;
    %join;
    %load/vec4 v0x15b697260_0;
    %store/vec4 v0x15b697570_0, 0, 4;
    %load/str v0x15b697300_0;
    %store/str v0x15b697630_0;
    %fork TD_tb_top_debug.wait_for_key_processing, S_0x15b6973b0;
    %join;
    %fork TD_tb_top_debug.release_key, S_0x15b696e50;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
T_9.47 ;
    %load/vec4 v0x15b6976d0_0;
    %cmpi/s 20, 0, 32;
    %jmp/0xz T_9.48, 5;
    %wait E_0x15b692800;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %jmp T_9.47;
T_9.48 ;
    %end;
S_0x15b6973b0 .scope task, "wait_for_key_processing" "wait_for_key_processing" 3 152, 3 152 0, S_0x15b6734a0;
 .timescale -9 -12;
v0x15b697570_0 .var "expected_key", 3 0;
v0x15b697630_0 .var/str "key_name";
TD_tb_top_debug.wait_for_key_processing ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b697d50_0, 0, 32;
    %vpi_call/w 3 157 "$display", "[%0t] Waiting for %s to be processed...", $time, v0x15b697630_0 {0 0 0};
T_10.49 ;
    %load/vec4 v0x15b695d20_0;
    %cmpi/ne 1, 0, 1;
    %flag_get/vec4 4;
    %jmp/0 T_10.51, 4;
    %load/vec4 v0x15b697d50_0;
    %cmpi/s 1000, 0, 32;
    %flag_get/vec4 5;
    %and;
T_10.51;
    %flag_set/vec4 8;
    %jmp/0xz T_10.50, 8;
    %wait E_0x15b692800;
    %load/vec4 v0x15b697d50_0;
    %pushi/vec4 100, 0, 32;
    %mod/s;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_10.52, 4;
    %fork TD_tb_top_debug.display_system_state, S_0x15b6079f0;
    %join;
    %fork TD_tb_top_debug.display_keypad_state, S_0x15b673b60;
    %join;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
    %fork TD_tb_top_debug.display_scanner_state, S_0x15b607880;
    %join;
    %fork TD_tb_top_debug.display_debouncer_state, S_0x15b66fbb0;
    %join;
T_10.52 ;
    %load/vec4 v0x15b697d50_0;
    %addi 1, 0, 32;
    %store/vec4 v0x15b697d50_0, 0, 32;
    %jmp T_10.49;
T_10.50 ;
    %load/vec4 v0x15b695d20_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_10.56, 9;
    %load/vec4 v0x15b6959e0_0;
    %load/vec4 v0x15b697570_0;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_10.56;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.54, 8;
    %vpi_call/w 3 172 "$display", "[%0t] *** %s PROCESSED! Key_valid = %b, Debounced_key = 0x%h ***", $time, v0x15b697630_0, v0x15b695d20_0, v0x15b6959e0_0 {0 0 0};
    %jmp T_10.55;
T_10.54 ;
    %load/vec4 v0x15b697d50_0;
    %cmpi/s 1000, 0, 32;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_10.57, 5;
    %vpi_call/w 3 175 "$display", "[%0t] *** TIMEOUT! %s was not processed within expected time ***", $time, v0x15b697630_0 {0 0 0};
    %jmp T_10.58;
T_10.57 ;
    %vpi_call/w 3 177 "$display", "[%0t] *** UNEXPECTED! Expected 0x%h, got 0x%h ***", $time, v0x15b697570_0, v0x15b6959e0_0 {0 0 0};
T_10.58 ;
T_10.55 ;
    %end;
    .scope S_0x15b694580;
T_11 ;
    %wait E_0x15b608c40;
    %load/vec4 v0x15b695380_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.0, 8;
    %pushi/vec4 15, 0, 4;
    %assign/vec4 v0x15b694d30_0, 0;
    %pushi/vec4 15, 0, 4;
    %assign/vec4 v0x15b694dd0_0, 0;
    %pushi/vec4 15, 0, 4;
    %assign/vec4 v0x15b695230_0, 0;
    %pushi/vec4 15, 0, 4;
    %assign/vec4 v0x15b6952d0_0, 0;
    %jmp T_11.1;
T_11.0 ;
    %load/vec4 v0x15b694c00_0;
    %assign/vec4 v0x15b694d30_0, 0;
    %load/vec4 v0x15b694d30_0;
    %assign/vec4 v0x15b694dd0_0, 0;
    %load/vec4 v0x15b6950f0_0;
    %assign/vec4 v0x15b695230_0, 0;
    %load/vec4 v0x15b695230_0;
    %assign/vec4 v0x15b6952d0_0, 0;
T_11.1 ;
    %jmp T_11;
    .thread T_11;
    .scope S_0x15b694580;
T_12 ;
    %wait E_0x15b608c40;
    %load/vec4 v0x15b695380_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x15b695450_0, 0;
    %jmp T_12.1;
T_12.0 ;
    %load/vec4 v0x15b695450_0;
    %cmpi/u 5999, 0, 32;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_12.2, 5;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x15b695450_0, 0;
    %jmp T_12.3;
T_12.2 ;
    %load/vec4 v0x15b695450_0;
    %addi 1, 0, 32;
    %assign/vec4 v0x15b695450_0, 0;
T_12.3 ;
T_12.1 ;
    %jmp T_12;
    .thread T_12;
    .scope S_0x15b694580;
T_13 ;
    %wait E_0x15b608c40;
    %load/vec4 v0x15b695380_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_13.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x15b694e80_0, 0;
    %jmp T_13.1;
T_13.0 ;
    %load/vec4 v0x15b695060_0;
    %assign/vec4 v0x15b694e80_0, 0;
T_13.1 ;
    %jmp T_13;
    .thread T_13;
    .scope S_0x15b694580;
T_14 ;
Ewait_0 .event/or E_0x15b6949a0, E_0x0;
    %wait Ewait_0;
    %load/vec4 v0x15b694e80_0;
    %store/vec4 v0x15b695060_0, 0, 2;
    %load/vec4 v0x15b694e80_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_14.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_14.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_14.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_14.3, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
    %jmp T_14.5;
T_14.0 ;
    %load/vec4 v0x15b695500_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.6, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
    %jmp T_14.7;
T_14.6 ;
    %load/vec4 v0x15b695690_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.8, 8;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
T_14.8 ;
T_14.7 ;
    %jmp T_14.5;
T_14.1 ;
    %load/vec4 v0x15b695500_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.10, 8;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
    %jmp T_14.11;
T_14.10 ;
    %load/vec4 v0x15b695690_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.12, 8;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
T_14.12 ;
T_14.11 ;
    %jmp T_14.5;
T_14.2 ;
    %load/vec4 v0x15b695500_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.14, 8;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
    %jmp T_14.15;
T_14.14 ;
    %load/vec4 v0x15b695690_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.16, 8;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
T_14.16 ;
T_14.15 ;
    %jmp T_14.5;
T_14.3 ;
    %load/vec4 v0x15b695500_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.18, 8;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
    %jmp T_14.19;
T_14.18 ;
    %load/vec4 v0x15b695690_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.20, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x15b695060_0, 0, 2;
T_14.20 ;
T_14.19 ;
    %jmp T_14.5;
T_14.5 ;
    %pop/vec4 1;
    %jmp T_14;
    .thread T_14, $push;
    .scope S_0x15b694580;
T_15 ;
Ewait_1 .event/or E_0x15b694940, E_0x0;
    %wait Ewait_1;
    %load/vec4 v0x15b694e80_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_15.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_15.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_15.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_15.3, 6;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b6950f0_0, 0, 4;
    %jmp T_15.5;
T_15.0 ;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6950f0_0, 0, 4;
    %jmp T_15.5;
T_15.1 ;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6950f0_0, 0, 4;
    %jmp T_15.5;
T_15.2 ;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b6950f0_0, 0, 4;
    %jmp T_15.5;
T_15.3 ;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b6950f0_0, 0, 4;
    %jmp T_15.5;
T_15.5 ;
    %pop/vec4 1;
    %jmp T_15;
    .thread T_15, $push;
    .scope S_0x15b694580;
T_16 ;
Ewait_2 .event/or E_0x15b694940, E_0x0;
    %wait Ewait_2;
    %load/vec4 v0x15b694e80_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_16.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_16.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_16.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_16.3, 6;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b695180_0, 0, 4;
    %jmp T_16.5;
T_16.0 ;
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x15b695180_0, 0, 4;
    %jmp T_16.5;
T_16.1 ;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x15b695180_0, 0, 4;
    %jmp T_16.5;
T_16.2 ;
    %pushi/vec4 4, 0, 4;
    %store/vec4 v0x15b695180_0, 0, 4;
    %jmp T_16.5;
T_16.3 ;
    %pushi/vec4 8, 0, 4;
    %store/vec4 v0x15b695180_0, 0, 4;
    %jmp T_16.5;
T_16.5 ;
    %pop/vec4 1;
    %jmp T_16;
    .thread T_16, $push;
    .scope S_0x15b693130;
T_17 ;
Ewait_3 .event/or E_0x15b693360, E_0x0;
    %wait Ewait_3;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %load/vec4 v0x15b693510_0;
    %load/vec4 v0x15b6933a0_0;
    %concat/vec4; draw_concat_vec4
    %dup/vec4;
    %pushi/vec4 17, 0, 8;
    %cmp/u;
    %jmp/1 T_17.0, 6;
    %dup/vec4;
    %pushi/vec4 18, 0, 8;
    %cmp/u;
    %jmp/1 T_17.1, 6;
    %dup/vec4;
    %pushi/vec4 20, 0, 8;
    %cmp/u;
    %jmp/1 T_17.2, 6;
    %dup/vec4;
    %pushi/vec4 24, 0, 8;
    %cmp/u;
    %jmp/1 T_17.3, 6;
    %dup/vec4;
    %pushi/vec4 33, 0, 8;
    %cmp/u;
    %jmp/1 T_17.4, 6;
    %dup/vec4;
    %pushi/vec4 34, 0, 8;
    %cmp/u;
    %jmp/1 T_17.5, 6;
    %dup/vec4;
    %pushi/vec4 36, 0, 8;
    %cmp/u;
    %jmp/1 T_17.6, 6;
    %dup/vec4;
    %pushi/vec4 40, 0, 8;
    %cmp/u;
    %jmp/1 T_17.7, 6;
    %dup/vec4;
    %pushi/vec4 65, 0, 8;
    %cmp/u;
    %jmp/1 T_17.8, 6;
    %dup/vec4;
    %pushi/vec4 66, 0, 8;
    %cmp/u;
    %jmp/1 T_17.9, 6;
    %dup/vec4;
    %pushi/vec4 68, 0, 8;
    %cmp/u;
    %jmp/1 T_17.10, 6;
    %dup/vec4;
    %pushi/vec4 72, 0, 8;
    %cmp/u;
    %jmp/1 T_17.11, 6;
    %dup/vec4;
    %pushi/vec4 129, 0, 8;
    %cmp/u;
    %jmp/1 T_17.12, 6;
    %dup/vec4;
    %pushi/vec4 130, 0, 8;
    %cmp/u;
    %jmp/1 T_17.13, 6;
    %dup/vec4;
    %pushi/vec4 132, 0, 8;
    %cmp/u;
    %jmp/1 T_17.14, 6;
    %dup/vec4;
    %pushi/vec4 136, 0, 8;
    %cmp/u;
    %jmp/1 T_17.15, 6;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.0 ;
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.1 ;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.2 ;
    %pushi/vec4 3, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.3 ;
    %pushi/vec4 12, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.4 ;
    %pushi/vec4 4, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.5 ;
    %pushi/vec4 5, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.6 ;
    %pushi/vec4 6, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.7 ;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.8 ;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.9 ;
    %pushi/vec4 8, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.10 ;
    %pushi/vec4 9, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.11 ;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.12 ;
    %pushi/vec4 10, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.13 ;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.14 ;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.15 ;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b693450_0, 0, 4;
    %jmp T_17.17;
T_17.17 ;
    %pop/vec4 1;
    %jmp T_17;
    .thread T_17, $push;
    .scope S_0x15b692440;
T_18 ;
    %wait E_0x15b608c40;
    %load/vec4 v0x15b692ec0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_18.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x15b6929d0_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x15b692a60_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b692da0_0, 0;
    %jmp T_18.1;
T_18.0 ;
    %load/vec4 v0x15b6929d0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_18.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_18.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_18.4, 6;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x15b6929d0_0, 0;
    %jmp T_18.6;
T_18.2 ;
    %load/vec4 v0x15b692c50_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_18.9, 9;
    %load/vec4 v0x15b692bc0_0;
    %pushi/vec4 0, 0, 4;
    %cmp/ne;
    %flag_get/vec4 4;
    %and;
T_18.9;
    %flag_set/vec4 8;
    %jmp/0xz  T_18.7, 8;
    %pushi/vec4 1, 0, 2;
    %assign/vec4 v0x15b6929d0_0, 0;
    %load/vec4 v0x15b692bc0_0;
    %assign/vec4 v0x15b692da0_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x15b692a60_0, 0;
T_18.7 ;
    %jmp T_18.6;
T_18.3 ;
    %load/vec4 v0x15b692c50_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/1 T_18.12, 8;
    %load/vec4 v0x15b692bc0_0;
    %cmpi/e 0, 0, 4;
    %flag_or 8, 4;
T_18.12;
    %jmp/0xz  T_18.10, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x15b6929d0_0, 0;
    %jmp T_18.11;
T_18.10 ;
    %load/vec4 v0x15b692a60_0;
    %pad/u 32;
    %cmpi/u 59999, 0, 32;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_18.13, 5;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x15b6929d0_0, 0;
    %jmp T_18.14;
T_18.13 ;
    %load/vec4 v0x15b692a60_0;
    %addi 1, 0, 20;
    %assign/vec4 v0x15b692a60_0, 0;
T_18.14 ;
T_18.11 ;
    %jmp T_18.6;
T_18.4 ;
    %load/vec4 v0x15b692940_0;
    %pad/u 32;
    %load/vec4 v0x15b692f70_0;
    %pad/u 32;
    %and;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_18.15, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x15b6929d0_0, 0;
T_18.15 ;
    %jmp T_18.6;
T_18.6 ;
    %pop/vec4 1;
T_18.1 ;
    %jmp T_18;
    .thread T_18;
    .scope S_0x15b692440;
T_19 ;
Ewait_4 .event/or E_0x15b692840, E_0x0;
    %wait Ewait_4;
    %load/vec4 v0x15b6929d0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_19.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_19.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_19.2, 6;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b692cf0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b692af0_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b693000_0, 0, 1;
    %jmp T_19.4;
T_19.0 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b692cf0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b692af0_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b693000_0, 0, 1;
    %jmp T_19.4;
T_19.1 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b693000_0, 0, 1;
    %load/vec4 v0x15b692a60_0;
    %pad/u 32;
    %cmpi/u 59999, 0, 32;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_19.5, 5;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b692cf0_0, 0, 1;
    %load/vec4 v0x15b692da0_0;
    %store/vec4 v0x15b692af0_0, 0, 4;
    %jmp T_19.6;
T_19.5 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b692cf0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b692af0_0, 0, 4;
T_19.6 ;
    %jmp T_19.4;
T_19.2 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b693000_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b692cf0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b692af0_0, 0, 4;
    %jmp T_19.4;
T_19.4 ;
    %pop/vec4 1;
    %jmp T_19;
    .thread T_19, $push;
    .scope S_0x15b692440;
T_20 ;
    %wait E_0x15b692800;
    %load/vec4 v0x15b692ec0_0;
    %pad/u 32;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_20.0, 4;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b692f70_0, 0;
    %jmp T_20.1;
T_20.0 ;
    %load/vec4 v0x15b692cf0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_20.2, 8;
    %load/vec4 v0x15b692940_0;
    %assign/vec4 v0x15b692f70_0, 0;
    %jmp T_20.3;
T_20.2 ;
    %load/vec4 v0x15b692f70_0;
    %assign/vec4 v0x15b692f70_0, 0;
T_20.3 ;
T_20.1 ;
    %jmp T_20;
    .thread T_20;
    .scope S_0x15b64aad0;
T_21 ;
    %wait E_0x15b608c40;
    %load/vec4 v0x15b692200_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_21.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b691ff0_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b692150_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x15b6920a0_0, 0;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x15b692310_0, 0;
    %jmp T_21.1;
T_21.0 ;
    %load/vec4 v0x15b692310_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_21.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_21.3, 6;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x15b692310_0, 0;
    %jmp T_21.5;
T_21.2 ;
    %load/vec4 v0x15b691f10_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_21.6, 8;
    %load/vec4 v0x15b691ff0_0;
    %assign/vec4 v0x15b692150_0, 0;
    %load/vec4 v0x15b691e60_0;
    %assign/vec4 v0x15b691ff0_0, 0;
    %load/vec4 v0x15b691e60_0;
    %assign/vec4 v0x15b6920a0_0, 0;
    %pushi/vec4 1, 0, 3;
    %assign/vec4 v0x15b692310_0, 0;
T_21.6 ;
    %jmp T_21.5;
T_21.3 ;
    %load/vec4 v0x15b691f10_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_21.8, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x15b692310_0, 0;
T_21.8 ;
    %jmp T_21.5;
T_21.5 ;
    %pop/vec4 1;
T_21.1 ;
    %jmp T_21;
    .thread T_21;
    .scope S_0x15b693920;
T_22 ;
Ewait_5 .event/or E_0x15b693b30, E_0x0;
    %wait Ewait_5;
    %load/vec4 v0x15b693b90_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 4;
    %cmp/u;
    %jmp/1 T_22.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 4;
    %cmp/u;
    %jmp/1 T_22.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 4;
    %cmp/u;
    %jmp/1 T_22.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 4;
    %cmp/u;
    %jmp/1 T_22.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 4;
    %cmp/u;
    %jmp/1 T_22.4, 6;
    %dup/vec4;
    %pushi/vec4 5, 0, 4;
    %cmp/u;
    %jmp/1 T_22.5, 6;
    %dup/vec4;
    %pushi/vec4 6, 0, 4;
    %cmp/u;
    %jmp/1 T_22.6, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_22.7, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 4;
    %cmp/u;
    %jmp/1 T_22.8, 6;
    %dup/vec4;
    %pushi/vec4 9, 0, 4;
    %cmp/u;
    %jmp/1 T_22.9, 6;
    %dup/vec4;
    %pushi/vec4 10, 0, 4;
    %cmp/u;
    %jmp/1 T_22.10, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_22.11, 6;
    %dup/vec4;
    %pushi/vec4 12, 0, 4;
    %cmp/u;
    %jmp/1 T_22.12, 6;
    %dup/vec4;
    %pushi/vec4 13, 0, 4;
    %cmp/u;
    %jmp/1 T_22.13, 6;
    %dup/vec4;
    %pushi/vec4 14, 0, 4;
    %cmp/u;
    %jmp/1 T_22.14, 6;
    %dup/vec4;
    %pushi/vec4 15, 0, 4;
    %cmp/u;
    %jmp/1 T_22.15, 6;
    %pushi/vec4 127, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.0 ;
    %pushi/vec4 64, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.1 ;
    %pushi/vec4 121, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.2 ;
    %pushi/vec4 36, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.3 ;
    %pushi/vec4 48, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.4 ;
    %pushi/vec4 25, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.5 ;
    %pushi/vec4 18, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.6 ;
    %pushi/vec4 2, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.7 ;
    %pushi/vec4 120, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.8 ;
    %pushi/vec4 0, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.9 ;
    %pushi/vec4 16, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.10 ;
    %pushi/vec4 8, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.11 ;
    %pushi/vec4 3, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.12 ;
    %pushi/vec4 70, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.13 ;
    %pushi/vec4 33, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.14 ;
    %pushi/vec4 6, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.15 ;
    %pushi/vec4 14, 0, 7;
    %store/vec4 v0x15b693c50_0, 0, 7;
    %jmp T_22.17;
T_22.17 ;
    %pop/vec4 1;
    %jmp T_22;
    .thread T_22, $push;
    .scope S_0x15b693610;
T_23 ;
    %wait E_0x15b6938c0;
    %load/vec4 v0x15b693fd0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_23.0, 8;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v0x15b693e80_0, 0;
    %jmp T_23.1;
T_23.0 ;
    %load/vec4 v0x15b693e80_0;
    %addi 1, 0, 16;
    %assign/vec4 v0x15b693e80_0, 0;
T_23.1 ;
    %jmp T_23;
    .thread T_23;
    .scope S_0x15b64a960;
T_24 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b695760_0, 0, 1;
T_24.0 ;
    %delay 50000, 0;
    %load/vec4 v0x15b695760_0;
    %inv;
    %store/vec4 v0x15b695760_0, 0, 1;
    %jmp T_24.0;
    %end;
    .thread T_24;
    .scope S_0x15b64a960;
T_25 ;
Ewait_6 .event/or E_0x15b665700, E_0x0;
    %wait Ewait_6;
    %load/vec4 v0x15b695910_0;
    %dup/vec4;
    %pushi/vec4 14, 0, 4;
    %cmp/u;
    %jmp/1 T_25.0, 6;
    %dup/vec4;
    %pushi/vec4 13, 0, 4;
    %cmp/u;
    %jmp/1 T_25.1, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_25.2, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_25.3, 6;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b695880_0, 0, 4;
    %jmp T_25.5;
T_25.0 ;
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x15b695880_0, 0, 4;
    %jmp T_25.5;
T_25.1 ;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x15b695880_0, 0, 4;
    %jmp T_25.5;
T_25.2 ;
    %pushi/vec4 4, 0, 4;
    %store/vec4 v0x15b695880_0, 0, 4;
    %jmp T_25.5;
T_25.3 ;
    %pushi/vec4 8, 0, 4;
    %store/vec4 v0x15b695880_0, 0, 4;
    %jmp T_25.5;
T_25.5 ;
    %pop/vec4 1;
    %jmp T_25;
    .thread T_25, $push;
    .scope S_0x15b6734a0;
T_26 ;
    %vpi_call/w 3 201 "$display", "==========================================" {0 0 0};
    %vpi_call/w 3 202 "$display", "LAB3 TOP MODULE QUESTA COMPATIBLE TEST" {0 0 0};
    %vpi_call/w 3 203 "$display", "==========================================" {0 0 0};
    %vpi_call/w 3 204 "$display", "This test uses a slower clock for better Questa visibility" {0 0 0};
    %vpi_call/w 3 205 "$display", "Watch the state changes over time as keys are pressed" {0 0 0};
    %vpi_call/w 3 206 "$display", "==========================================" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b697940_0, 0, 1;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b697790_0, 0, 4;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b697cc0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %vpi_call/w 3 215 "$display", "\012[%0t] Applying reset...", $time {0 0 0};
    %delay 1000000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b697940_0, 0, 1;
    %delay 500000, 0;
    %vpi_call/w 3 220 "$display", "\012[%0t] Reset released. Starting system test...", $time {0 0 0};
    %vpi_call/w 3 223 "$display", "\012--- TEST 1: Initial State (No Keys) ---" {0 0 0};
    %vpi_call/w 3 224 "$display", "Watch scanner cycle through states: SCAN_ROW0 -> SCAN_ROW1 -> SCAN_ROW2 -> SCAN_ROW3" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
T_26.0 ;
    %load/vec4 v0x15b6976d0_0;
    %cmpi/s 20, 0, 32;
    %jmp/0xz T_26.1, 5;
    %wait E_0x15b692800;
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 5, 0, 32;
    %mod/s;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_26.2, 4;
    %fork TD_tb_top_debug.display_system_state, S_0x15b6079f0;
    %join;
    %fork TD_tb_top_debug.display_keypad_state, S_0x15b673b60;
    %join;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
    %fork TD_tb_top_debug.display_scanner_state, S_0x15b607880;
    %join;
    %fork TD_tb_top_debug.display_debouncer_state, S_0x15b66fbb0;
    %join;
T_26.2 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %jmp T_26.0;
T_26.1 ;
    %vpi_call/w 3 237 "$display", "\012--- TEST 2: Single Key Press Sequence ---" {0 0 0};
    %vpi_call/w 3 238 "$display", "[%0t] Testing individual keys: 1, 5, A, F", $time {0 0 0};
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '1' (R0C0)";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 5, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '5' (R1C1)";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 10, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'A' (R3C0)";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'F' (R3C3)";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %vpi_call/w 3 246 "$display", "\012--- TEST 3: Multiple Key Sequence (Digit Shifting) ---" {0 0 0};
    %vpi_call/w 3 247 "$display", "[%0t] Testing digit shifting: 1, 2, 3, 4", $time {0 0 0};
    %vpi_call/w 3 248 "$display", "Watch how digits shift: 1 -> 12 -> 123 -> 1234" {0 0 0};
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '1'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '2'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 3, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '3'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 4, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '4'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %vpi_call/w 3 256 "$display", "\012--- TEST 4: All Hexadecimal Keys ---" {0 0 0};
    %vpi_call/w 3 257 "$display", "[%0t] Testing all keys 0-F...", $time {0 0 0};
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '0'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '1'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '2'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 3, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '3'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 4, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '4'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 5, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '5'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 6, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '6'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '7'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 8, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '8'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 9, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '9'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 10, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'A'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'B'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 12, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'C'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'D'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'E'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key 'F'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %vpi_call/w 3 277 "$display", "\012--- TEST 5: Rapid Key Presses ---" {0 0 0};
    %vpi_call/w 3 278 "$display", "[%0t] Testing rapid sequence: A, B, C, D", $time {0 0 0};
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b696cf0_0, 0, 4;
    %pushi/str "Key 'A' (rapid)";
    %store/str v0x15b696db0_0;
    %fork TD_tb_top_debug.press_key, S_0x15b696ab0;
    %join;
    %wait E_0x15b692800;
    %fork TD_tb_top_debug.release_key, S_0x15b696e50;
    %join;
    %wait E_0x15b692800;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b696cf0_0, 0, 4;
    %pushi/str "Key 'B' (rapid)";
    %store/str v0x15b696db0_0;
    %fork TD_tb_top_debug.press_key, S_0x15b696ab0;
    %join;
    %wait E_0x15b692800;
    %fork TD_tb_top_debug.release_key, S_0x15b696e50;
    %join;
    %wait E_0x15b692800;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b696cf0_0, 0, 4;
    %pushi/str "Key 'C' (rapid)";
    %store/str v0x15b696db0_0;
    %fork TD_tb_top_debug.press_key, S_0x15b696ab0;
    %join;
    %wait E_0x15b692800;
    %fork TD_tb_top_debug.release_key, S_0x15b696e50;
    %join;
    %wait E_0x15b692800;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b696cf0_0, 0, 4;
    %pushi/str "Key 'D' (rapid)";
    %store/str v0x15b696db0_0;
    %fork TD_tb_top_debug.press_key, S_0x15b696ab0;
    %join;
    %wait E_0x15b692800;
    %fork TD_tb_top_debug.release_key, S_0x15b696e50;
    %join;
    %wait E_0x15b692800;
    %vpi_call/w 3 301 "$display", "\012--- TEST 6: Long Key Hold ---" {0 0 0};
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b696cf0_0, 0, 4;
    %pushi/str "Key 'E' (long hold)";
    %store/str v0x15b696db0_0;
    %fork TD_tb_top_debug.press_key, S_0x15b696ab0;
    %join;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b697570_0, 0, 4;
    %pushi/str "Key 'E'";
    %store/str v0x15b697630_0;
    %fork TD_tb_top_debug.wait_for_key_processing, S_0x15b6973b0;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
T_26.4 ;
    %load/vec4 v0x15b6976d0_0;
    %cmpi/s 50, 0, 32;
    %jmp/0xz T_26.5, 5;
    %wait E_0x15b692800;
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 10, 0, 32;
    %mod/s;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_26.6, 4;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
    %fork TD_tb_top_debug.display_debouncer_state, S_0x15b66fbb0;
    %join;
T_26.6 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %jmp T_26.4;
T_26.5 ;
    %fork TD_tb_top_debug.release_key, S_0x15b696e50;
    %join;
    %vpi_call/w 3 317 "$display", "\012--- TEST 7: Multiple Keys Pressed Simultaneously ---" {0 0 0};
    %vpi_call/w 3 318 "$display", "[%0t] Pressing multiple keys (should not process)...", $time {0 0 0};
    %pushi/vec4 12, 0, 4;
    %store/vec4 v0x15b697790_0, 0, 4;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
T_26.8 ;
    %load/vec4 v0x15b6976d0_0;
    %cmpi/s 100, 0, 32;
    %jmp/0xz T_26.9, 5;
    %wait E_0x15b692800;
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 25, 0, 32;
    %mod/s;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_26.10, 4;
    %fork TD_tb_top_debug.display_system_state, S_0x15b6079f0;
    %join;
    %fork TD_tb_top_debug.display_keypad_state, S_0x15b673b60;
    %join;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
T_26.10 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %jmp T_26.8;
T_26.9 ;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b697790_0, 0, 4;
    %vpi_call/w 3 333 "$display", "\012--- TEST 8: Edge Cases ---" {0 0 0};
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b697790_0, 0, 4;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
T_26.12 ;
    %load/vec4 v0x15b6976d0_0;
    %cmpi/s 25, 0, 32;
    %jmp/0xz T_26.13, 5;
    %wait E_0x15b692800;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %jmp T_26.12;
T_26.13 ;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x15b697790_0, 0, 4;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
T_26.14 ;
    %load/vec4 v0x15b6976d0_0;
    %cmpi/s 25, 0, 32;
    %jmp/0xz T_26.15, 5;
    %wait E_0x15b692800;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %jmp T_26.14;
T_26.15 ;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x15b697790_0, 0, 4;
    %vpi_call/w 3 350 "$display", "\012--- TEST 9: Reset During Operation ---" {0 0 0};
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b696cf0_0, 0, 4;
    %pushi/str "Key '9' (before reset)";
    %store/str v0x15b696db0_0;
    %fork TD_tb_top_debug.press_key, S_0x15b696ab0;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x15b6976d0_0, 0, 32;
T_26.16 ;
    %load/vec4 v0x15b6976d0_0;
    %cmpi/s 10, 0, 32;
    %jmp/0xz T_26.17, 5;
    %wait E_0x15b692800;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0x15b6976d0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %store/vec4 v0x15b6976d0_0, 0, 32;
    %jmp T_26.16;
T_26.17 ;
    %vpi_call/w 3 358 "$display", "[%0t] Applying reset during key press...", $time {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x15b697940_0, 0, 1;
    %wait E_0x15b692800;
    %fork TD_tb_top_debug.display_system_state, S_0x15b6079f0;
    %join;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x15b697940_0, 0, 1;
    %wait E_0x15b692800;
    %fork TD_tb_top_debug.display_system_state, S_0x15b6079f0;
    %join;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
    %vpi_call/w 3 370 "$display", "\012--- TEST 10: Final Display Verification ---" {0 0 0};
    %vpi_call/w 3 371 "$display", "[%0t] Final system state:", $time {0 0 0};
    %fork TD_tb_top_debug.display_system_state, S_0x15b6079f0;
    %join;
    %fork TD_tb_top_debug.display_keypad_state, S_0x15b673b60;
    %join;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
    %fork TD_tb_top_debug.display_scanner_state, S_0x15b607880;
    %join;
    %fork TD_tb_top_debug.display_debouncer_state, S_0x15b66fbb0;
    %join;
    %vpi_call/w 3 378 "$display", "\012[%0t] Display Analysis:", $time {0 0 0};
    %load/vec4 v0x15b695ab0_0;
    %store/vec4 v0x15b696710_0, 0, 4;
    %callf/str TD_tb_top_debug.get_key_name, S_0x15b696500;
    %vpi_call/w 3 379 "$display", "  Left digit: 0x%h (%s)", v0x15b695ab0_0, S<0,str> {0 0 1};
    %load/vec4 v0x15b695bc0_0;
    %store/vec4 v0x15b696710_0, 0, 4;
    %callf/str TD_tb_top_debug.get_key_name, S_0x15b696500;
    %vpi_call/w 3 380 "$display", "  Right digit: 0x%h (%s)", v0x15b695bc0_0, S<0,str> {0 0 1};
    %load/vec4 v0x15b697a50_0;
    %store/vec4 v0x15b696a00_0, 0, 7;
    %callf/str TD_tb_top_debug.get_seg_display, S_0x15b6967b0;
    %vpi_call/w 3 381 "$display", "  Seven-segment: %b (%s)", v0x15b697a50_0, S<0,str> {0 0 1};
    %vpi_call/w 3 382 "$display", "  Select signals: Sel0=%b, Sel1=%b", v0x15b697b20_0, v0x15b697bf0_0 {0 0 0};
    %vpi_call/w 3 385 "$display", "\012--- TEST 11: Complete System Walkthrough ---" {0 0 0};
    %vpi_call/w 3 386 "$display", "[%0t] Testing complete system: 1, 2, 3, 4, 5", $time {0 0 0};
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '1'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 13, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '2'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 11, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 3, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '3'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 4, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '4'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %pushi/vec4 14, 0, 4;
    %store/vec4 v0x15b6971d0_0, 0, 4;
    %pushi/vec4 5, 0, 4;
    %store/vec4 v0x15b697260_0, 0, 4;
    %pushi/str "Key '5'";
    %store/str v0x15b697300_0;
    %fork TD_tb_top_debug.test_key_sequence, S_0x15b697010;
    %join;
    %vpi_call/w 3 394 "$display", "\012[%0t] Final system state after walkthrough:", $time {0 0 0};
    %fork TD_tb_top_debug.display_system_state, S_0x15b6079f0;
    %join;
    %fork TD_tb_top_debug.display_display_state, S_0x15b664e60;
    %join;
    %vpi_call/w 3 398 "$display", "\012==========================================" {0 0 0};
    %vpi_call/w 3 399 "$display", "QUESTA COMPATIBLE TOP MODULE TEST COMPLETE" {0 0 0};
    %vpi_call/w 3 400 "$display", "==========================================" {0 0 0};
    %vpi_call/w 3 401 "$finish" {0 0 0};
    %end;
    .thread T_26;
    .scope S_0x15b6734a0;
T_27 ;
    %vpi_call/w 3 414 "$dumpfile", "tb_top_debug.vcd" {0 0 0};
    %vpi_call/w 3 415 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x15b6734a0 {0 0 0};
    %end;
    .thread T_27;
# The file index is used to find the file name in the following table.
:file_names 11;
    "N/A";
    "<interactive>";
    "-";
    "tb_top_debug.sv";
    "lab3_top.sv";
    "keypad_controller.sv";
    "keypad_debouncer.sv";
    "keypad_decoder.sv";
    "Lab2_ES.sv";
    "seven_segment.sv";
    "keypad_scanner.sv";
