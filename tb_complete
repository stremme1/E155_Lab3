#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x136709db0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x136709f20 .scope module, "tb_complete" "tb_complete" 3 12;
 .timescale -9 -12;
P_0x136709c30 .param/l "CLK_PERIOD" 1 3 17, +C4<00000000000000000000000101001101>;
v0x137009bd0_0 .var "clk", 0 0;
v0x137009c70_0 .net "combo_ready", 0 0, v0x13671b1b0_0;  1 drivers
v0x137009d30_0 .net "debounced_key", 3 0, v0x13671b360_0;  1 drivers
v0x137009e20_0 .net "digit_left", 3 0, L_0x13700a6f0;  1 drivers
v0x137009ed0_0 .net "digit_right", 3 0, L_0x13700a7a0;  1 drivers
v0x137009fb0_0 .var/i "error_count", 31 0;
v0x13700a060_0 .net "flash_enable", 0 0, v0x13671b440_0;  1 drivers
v0x13700a110_0 .net "held_key_code", 3 0, v0x13671b620_0;  1 drivers
v0x13700a1d0_0 .var "key_code", 3 0;
v0x13700a310_0 .var "key_detected", 0 0;
v0x13700a3a0_0 .net "key_held", 0 0, v0x137006c50_0;  1 drivers
v0x13700a430_0 .net "key_valid", 0 0, v0x137006ff0_0;  1 drivers
v0x13700a500_0 .var "rst_n", 0 0;
v0x13700a5d0_0 .net "scan_stop", 0 0, v0x137008b90_0;  1 drivers
v0x13700a660_0 .var/i "test_num", 31 0;
S_0x13670a090 .scope task, "check_system_state" "check_system_state" 3 108, 3 108 0, S_0x136709f20;
 .timescale -9 -12;
v0x1367074f0_0 .var/str "test_name";
TD_tb_complete.check_system_state ;
    %vpi_call/w 3 110 "$display", "  %s:", v0x1367074f0_0 {0 0 0};
    %vpi_call/w 3 111 "$display", "    key_valid=%b, debounced_key=0x%h, scan_stop=%b", v0x13700a430_0, v0x137009d30_0, v0x13700a5d0_0 {0 0 0};
    %vpi_call/w 3 113 "$display", "    key_held=%b, held_key_code=0x%h", v0x13700a3a0_0, v0x13700a110_0 {0 0 0};
    %vpi_call/w 3 114 "$display", "    flash_enable=%b, combo_ready=%b", v0x13700a060_0, v0x137009c70_0 {0 0 0};
    %vpi_call/w 3 115 "$display", "    digit_left=0x%h, digit_right=0x%h", v0x137009e20_0, v0x137009ed0_0 {0 0 0};
    %end;
S_0x13671a010 .scope module, "controller_inst" "keypad_controller" 3 60, 4 11 0, S_0x136709f20;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 4 "key_code";
    .port_info 3 /INPUT 1 "key_valid";
    .port_info 4 /OUTPUT 4 "digit_left";
    .port_info 5 /OUTPUT 4 "digit_right";
L_0x13700a6f0 .functor BUFZ 4, v0x13671a680_0, C4<0000>, C4<0000>, C4<0000>;
L_0x13700a7a0 .functor BUFZ 4, v0x13671a7e0_0, C4<0000>, C4<0000>, C4<0000>;
v0x13671a2e0_0 .net "clk", 0 0, v0x137009bd0_0;  1 drivers
v0x13671a380_0 .net "digit_left", 3 0, L_0x13700a6f0;  alias, 1 drivers
v0x13671a430_0 .net "digit_right", 3 0, L_0x13700a7a0;  alias, 1 drivers
v0x13671a4f0_0 .net "key_code", 3 0, v0x13671b360_0;  alias, 1 drivers
v0x13671a5a0_0 .net "key_valid", 0 0, v0x137006ff0_0;  alias, 1 drivers
v0x13671a680_0 .var "left_digit_reg", 3 0;
v0x13671a730_0 .var "new_key", 3 0;
v0x13671a7e0_0 .var "right_digit_reg", 3 0;
v0x13671a890_0 .net "rst_n", 0 0, v0x13700a500_0;  1 drivers
v0x13671a9a0_0 .var "state", 2 0;
E_0x13671a2a0/0 .event negedge, v0x13671a890_0;
E_0x13671a2a0/1 .event posedge, v0x13671a2e0_0;
E_0x13671a2a0 .event/or E_0x13671a2a0/0, E_0x13671a2a0/1;
S_0x13671aad0 .scope module, "debouncer_inst" "keypad_debouncer" 3 43, 5 12 0, S_0x136709f20;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 4 "key_code";
    .port_info 3 /INPUT 1 "key_detected";
    .port_info 4 /OUTPUT 1 "key_valid";
    .port_info 5 /OUTPUT 4 "debounced_key";
    .port_info 6 /OUTPUT 1 "scan_stop";
    .port_info 7 /OUTPUT 1 "key_held";
    .port_info 8 /OUTPUT 4 "held_key_code";
    .port_info 9 /OUTPUT 1 "flash_enable";
    .port_info 10 /OUTPUT 1 "combo_ready";
P_0x13671ac90 .param/l "DEBOUNCE_MAX" 1 5 48, C4<00001110101001011111>;
P_0x13671acd0 .param/l "FLASH_ON_TIME" 1 5 51, C4<00000111010100101111>;
P_0x13671ad10 .param/l "FLASH_PERIOD" 1 5 50, C4<00100100100111101111>;
P_0x13671ad50 .param/l "HOLD_FLASH_START" 1 5 49, C4<01001001001111011111>;
enum0x136628c10 .enum4 (2)
   "IDLE" 2'b00,
   "DEBOUNCING" 2'b01,
   "KEY_HELD" 2'b10
 ;
v0x13671b0f0_0 .net "clk", 0 0, v0x137009bd0_0;  alias, 1 drivers
v0x13671b1b0_0 .var "combo_ready", 0 0;
v0x13671b240_0 .var "current_state", 1 0;
v0x13671b2d0_0 .var "debounce_cnt", 19 0;
v0x13671b360_0 .var "debounced_key", 3 0;
v0x13671b440_0 .var "flash_enable", 0 0;
v0x13671b4d0_0 .var "flash_state", 0 0;
v0x13671b570_0 .var "flash_timer", 19 0;
v0x13671b620_0 .var "held_key_code", 3 0;
v0x13671b750_0 .var "hold_timer", 19 0;
v0x13671b800_0 .net "key_code", 3 0, v0x13700a1d0_0;  1 drivers
v0x137004940_0 .net "key_detected", 0 0, v0x13700a310_0;  1 drivers
v0x137006c50_0 .var "key_held", 0 0;
v0x137006ff0_0 .var "key_valid", 0 0;
v0x137004be0_0 .var "l_key", 3 0;
v0x137004c70_0 .var "prev_key_detected", 0 0;
v0x137008a00_0 .net "rst_n", 0 0, v0x13700a500_0;  alias, 1 drivers
v0x137008b90_0 .var "scan_stop", 0 0;
E_0x13671b070 .event anyedge, v0x13671b240_0, v0x13671b2d0_0, v0x137004be0_0;
S_0x137008c20 .scope task, "simulate_key_hold" "simulate_key_hold" 3 95, 3 95 0, S_0x136709f20;
 .timescale -9 -12;
v0x137008e20_0 .var/2s "hold_cycles", 31 0;
v0x137008ee0_0 .var "key", 3 0;
E_0x137008de0 .event posedge, v0x13671a2e0_0;
TD_tb_complete.simulate_key_hold ;
    %vpi_call/w 3 97 "$display", "  [%0t] Simulating key hold: 0x%h for %0d cycles", $time, v0x137008ee0_0, v0x137008e20_0 {0 0 0};
    %load/vec4 v0x137008ee0_0;
    %store/vec4 v0x13700a1d0_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13700a310_0, 0, 1;
    %load/vec4 v0x137008e20_0;
T_1.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_1.1, 5;
    %jmp/1 T_1.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x137008de0;
    %jmp T_1.0;
T_1.1 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13700a310_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13700a1d0_0, 0, 4;
    %pushi/vec4 5, 0, 32;
T_1.2 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_1.3, 5;
    %jmp/1 T_1.3, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x137008de0;
    %jmp T_1.2;
T_1.3 ;
    %pop/vec4 1;
    %end;
S_0x137008f80 .scope task, "simulate_key_press" "simulate_key_press" 3 82, 3 82 0, S_0x136709f20;
 .timescale -9 -12;
v0x137009130_0 .var/2s "duration_cycles", 31 0;
v0x1370091e0_0 .var "key", 3 0;
TD_tb_complete.simulate_key_press ;
    %vpi_call/w 3 84 "$display", "  [%0t] Simulating key press: 0x%h for %0d cycles", $time, v0x1370091e0_0, v0x137009130_0 {0 0 0};
    %load/vec4 v0x1370091e0_0;
    %store/vec4 v0x13700a1d0_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13700a310_0, 0, 1;
    %load/vec4 v0x137009130_0;
T_2.4 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_2.5, 5;
    %jmp/1 T_2.5, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x137008de0;
    %jmp T_2.4;
T_2.5 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13700a310_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13700a1d0_0, 0, 4;
    %pushi/vec4 5, 0, 32;
T_2.6 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_2.7, 5;
    %jmp/1 T_2.7, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x137008de0;
    %jmp T_2.6;
T_2.7 ;
    %pop/vec4 1;
    %end;
S_0x137009290 .scope task, "test_basic_functionality" "test_basic_functionality" 3 124, 3 124 0, S_0x136709f20;
 .timescale -9 -12;
TD_tb_complete.test_basic_functionality ;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x13700a660_0, 0, 32;
    %vpi_call/w 3 127 "$display", "\012=== TEST %0d: Basic Single Key Functionality ===", v0x13700a660_0 {0 0 0};
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '1' press";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 5, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '5' press";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 10, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key 'A' press";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %end;
S_0x137009450 .scope task, "test_key_holding" "test_key_holding" 3 144, 3 144 0, S_0x136709f20;
 .timescale -9 -12;
TD_tb_complete.test_key_holding ;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v0x13700a660_0, 0, 32;
    %vpi_call/w 3 147 "$display", "\012=== TEST %0d: Key Holding Functionality ===", v0x13700a660_0 {0 0 0};
    %pushi/vec4 3, 0, 4;
    %store/vec4 v0x137008ee0_0, 0, 4;
    %pushi/vec4 200000, 0, 32;
    %store/vec4 v0x137008e20_0, 0, 32;
    %fork TD_tb_complete.simulate_key_hold, S_0x137008c20;
    %join;
    %pushi/str "After key '3' hold";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x137008ee0_0, 0, 4;
    %pushi/vec4 200000, 0, 32;
    %store/vec4 v0x137008e20_0, 0, 32;
    %fork TD_tb_complete.simulate_key_hold, S_0x137008c20;
    %join;
    %pushi/str "After key 'F' hold";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %end;
S_0x137009610 .scope task, "test_multi_key_scenarios" "test_multi_key_scenarios" 3 160, 3 160 0, S_0x136709f20;
 .timescale -9 -12;
TD_tb_complete.test_multi_key_scenarios ;
    %pushi/vec4 3, 0, 32;
    %store/vec4 v0x13700a660_0, 0, 32;
    %vpi_call/w 3 163 "$display", "\012=== TEST %0d: Multi-Key Scenarios ===", v0x13700a660_0 {0 0 0};
    %vpi_call/w 3 166 "$display", "  Testing rapid key sequences..." {0 0 0};
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/vec4 3, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After rapid sequence";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %vpi_call/w 3 173 "$display", "  Testing key combination detection..." {0 0 0};
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x137008ee0_0, 0, 4;
    %pushi/vec4 100000, 0, 32;
    %store/vec4 v0x137008e20_0, 0, 32;
    %fork TD_tb_complete.simulate_key_hold, S_0x137008c20;
    %join;
    %pushi/str "After key '1' hold - ready for combinations";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %end;
S_0x1370097d0 .scope task, "test_same_column_multi_key" "test_same_column_multi_key" 3 203, 3 203 0, S_0x136709f20;
 .timescale -9 -12;
TD_tb_complete.test_same_column_multi_key ;
    %pushi/vec4 5, 0, 32;
    %store/vec4 v0x13700a660_0, 0, 32;
    %vpi_call/w 3 206 "$display", "\012=== TEST %0d: Same Column Multi-Key Simulation ===", v0x13700a660_0 {0 0 0};
    %vpi_call/w 3 209 "$display", "  Simulating same column keys: 1,4,7,A" {0 0 0};
    %vpi_call/w 3 210 "$display", "  In real system, this would create ghosting" {0 0 0};
    %vpi_call/w 3 211 "$display", "  Enhanced debouncer should handle this gracefully" {0 0 0};
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '1' (Row 0, Col 0)";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 4, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '4' (Row 1, Col 0)";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 7, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '7' (Row 2, Col 0)";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 10, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key 'A' (Row 3, Col 0)";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %end;
S_0x137009a10 .scope task, "test_same_row_multi_key" "test_same_row_multi_key" 3 180, 3 180 0, S_0x136709f20;
 .timescale -9 -12;
TD_tb_complete.test_same_row_multi_key ;
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x13700a660_0, 0, 32;
    %vpi_call/w 3 183 "$display", "\012=== TEST %0d: Same Row Multi-Key Simulation ===", v0x13700a660_0 {0 0 0};
    %vpi_call/w 3 186 "$display", "  Simulating same row keys: 1,2,3" {0 0 0};
    %vpi_call/w 3 187 "$display", "  In real system, this would create ghosting" {0 0 0};
    %vpi_call/w 3 188 "$display", "  Enhanced debouncer should handle this gracefully" {0 0 0};
    %pushi/vec4 1, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '1' (Row 0, Col 0)";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 2, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '2' (Row 0, Col 1)";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %pushi/vec4 3, 0, 4;
    %store/vec4 v0x1370091e0_0, 0, 4;
    %pushi/vec4 70000, 0, 32;
    %store/vec4 v0x137009130_0, 0, 32;
    %fork TD_tb_complete.simulate_key_press, S_0x137008f80;
    %join;
    %pushi/str "After key '3' (Row 0, Col 2)";
    %store/str v0x1367074f0_0;
    %fork TD_tb_complete.check_system_state, S_0x13670a090;
    %join;
    %end;
    .scope S_0x13671aad0;
T_8 ;
    %wait E_0x13671a2a0;
    %load/vec4 v0x137008a00_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x13671b240_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b2d0_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x137004be0_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b750_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b570_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13671b4d0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x137004c70_0, 0;
    %jmp T_8.1;
T_8.0 ;
    %load/vec4 v0x137004940_0;
    %assign/vec4 v0x137004c70_0, 0;
    %load/vec4 v0x13671b240_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_8.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_8.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_8.4, 6;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x13671b240_0, 0;
    %jmp T_8.6;
T_8.2 ;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b750_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b570_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13671b4d0_0, 0;
    %load/vec4 v0x137004940_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_8.9, 9;
    %load/vec4 v0x13671b800_0;
    %pushi/vec4 0, 0, 4;
    %cmp/ne;
    %flag_get/vec4 4;
    %and;
T_8.9;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.7, 8;
    %pushi/vec4 1, 0, 2;
    %assign/vec4 v0x13671b240_0, 0;
    %load/vec4 v0x13671b800_0;
    %assign/vec4 v0x137004be0_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b2d0_0, 0;
T_8.7 ;
    %jmp T_8.6;
T_8.3 ;
    %load/vec4 v0x137004940_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/1 T_8.12, 8;
    %load/vec4 v0x13671b800_0;
    %cmpi/e 0, 0, 4;
    %flag_or 8, 4;
T_8.12;
    %jmp/0xz  T_8.10, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x13671b240_0, 0;
    %jmp T_8.11;
T_8.10 ;
    %load/vec4 v0x13671b2d0_0;
    %cmpi/u 59999, 0, 20;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_8.13, 5;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x13671b240_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b750_0, 0;
    %jmp T_8.14;
T_8.13 ;
    %load/vec4 v0x13671b2d0_0;
    %addi 1, 0, 20;
    %assign/vec4 v0x13671b2d0_0, 0;
T_8.14 ;
T_8.11 ;
    %jmp T_8.6;
T_8.4 ;
    %load/vec4 v0x13671b750_0;
    %addi 1, 0, 20;
    %assign/vec4 v0x13671b750_0, 0;
    %load/vec4 v0x13671b750_0;
    %cmpi/u 299999, 0, 20;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_8.15, 5;
    %load/vec4 v0x13671b570_0;
    %addi 1, 0, 20;
    %assign/vec4 v0x13671b570_0, 0;
    %load/vec4 v0x13671b570_0;
    %cmpi/u 149999, 0, 20;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_8.17, 5;
    %load/vec4 v0x13671b4d0_0;
    %inv;
    %assign/vec4 v0x13671b4d0_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b570_0, 0;
T_8.17 ;
T_8.15 ;
    %load/vec4 v0x137004940_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/1 T_8.21, 8;
    %load/vec4 v0x13671b800_0;
    %cmpi/e 0, 0, 4;
    %flag_or 8, 4;
T_8.21;
    %jmp/0xz  T_8.19, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x13671b240_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b750_0, 0;
    %pushi/vec4 0, 0, 20;
    %assign/vec4 v0x13671b570_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13671b4d0_0, 0;
T_8.19 ;
    %jmp T_8.6;
T_8.6 ;
    %pop/vec4 1;
T_8.1 ;
    %jmp T_8;
    .thread T_8;
    .scope S_0x13671aad0;
T_9 ;
Ewait_0 .event/or E_0x13671b070, E_0x0;
    %wait Ewait_0;
    %load/vec4 v0x13671b240_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_9.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_9.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_9.2, 6;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137006ff0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13671b360_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137008b90_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137006c50_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13671b620_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13671b440_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13671b1b0_0, 0, 1;
    %jmp T_9.4;
T_9.0 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137006ff0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13671b360_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137008b90_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137006c50_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13671b620_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13671b440_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13671b1b0_0, 0, 1;
    %jmp T_9.4;
T_9.1 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x137008b90_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137006c50_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13671b620_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13671b440_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13671b1b0_0, 0, 1;
    %load/vec4 v0x13671b2d0_0;
    %cmpi/u 59999, 0, 20;
    %flag_inv 5; GE is !LT
    %jmp/0xz  T_9.5, 5;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x137006ff0_0, 0, 1;
    %load/vec4 v0x137004be0_0;
    %store/vec4 v0x13671b360_0, 0, 4;
    %jmp T_9.6;
T_9.5 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137006ff0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13671b360_0, 0, 4;
T_9.6 ;
    %jmp T_9.4;
T_9.2 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137008b90_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137006ff0_0, 0, 1;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13671b360_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x137006c50_0, 0, 1;
    %load/vec4 v0x137004be0_0;
    %store/vec4 v0x13671b620_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13671b440_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13671b1b0_0, 0, 1;
    %jmp T_9.4;
T_9.4 ;
    %pop/vec4 1;
    %jmp T_9;
    .thread T_9, $push;
    .scope S_0x13671a010;
T_10 ;
    %wait E_0x13671a2a0;
    %load/vec4 v0x13671a890_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x13671a680_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x13671a7e0_0, 0;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x13671a730_0, 0;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x13671a9a0_0, 0;
    %jmp T_10.1;
T_10.0 ;
    %load/vec4 v0x13671a9a0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_10.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_10.3, 6;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x13671a9a0_0, 0;
    %jmp T_10.5;
T_10.2 ;
    %load/vec4 v0x13671a5a0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.6, 8;
    %load/vec4 v0x13671a680_0;
    %assign/vec4 v0x13671a7e0_0, 0;
    %load/vec4 v0x13671a4f0_0;
    %assign/vec4 v0x13671a680_0, 0;
    %load/vec4 v0x13671a4f0_0;
    %assign/vec4 v0x13671a730_0, 0;
    %pushi/vec4 1, 0, 3;
    %assign/vec4 v0x13671a9a0_0, 0;
T_10.6 ;
    %jmp T_10.5;
T_10.3 ;
    %load/vec4 v0x13671a5a0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.8, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x13671a9a0_0, 0;
T_10.8 ;
    %jmp T_10.5;
T_10.5 ;
    %pop/vec4 1;
T_10.1 ;
    %jmp T_10;
    .thread T_10;
    .scope S_0x136709f20;
T_11 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x137009bd0_0, 0, 1;
T_11.0 ;
    %delay 166000, 0;
    %load/vec4 v0x137009bd0_0;
    %inv;
    %store/vec4 v0x137009bd0_0, 0, 1;
    %jmp T_11.0;
    %end;
    .thread T_11;
    .scope S_0x136709f20;
T_12 ;
    %vpi_call/w 3 232 "$display", "==========================================" {0 0 0};
    %vpi_call/w 3 233 "$display", "Complete System Testbench Starting" {0 0 0};
    %vpi_call/w 3 234 "$display", "Enhanced Debouncer with Multi-Key Support" {0 0 0};
    %vpi_call/w 3 235 "$display", "==========================================" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x137009fb0_0, 0, 32;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x13700a1d0_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13700a310_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13700a500_0, 0, 1;
    %pushi/vec4 10, 0, 32;
T_12.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_12.1, 5;
    %jmp/1 T_12.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x137008de0;
    %jmp T_12.0;
T_12.1 ;
    %pop/vec4 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13700a500_0, 0, 1;
    %pushi/vec4 5, 0, 32;
T_12.2 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_12.3, 5;
    %jmp/1 T_12.3, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x137008de0;
    %jmp T_12.2;
T_12.3 ;
    %pop/vec4 1;
    %fork TD_tb_complete.test_basic_functionality, S_0x137009290;
    %join;
    %fork TD_tb_complete.test_key_holding, S_0x137009450;
    %join;
    %fork TD_tb_complete.test_multi_key_scenarios, S_0x137009610;
    %join;
    %fork TD_tb_complete.test_same_row_multi_key, S_0x137009a10;
    %join;
    %fork TD_tb_complete.test_same_column_multi_key, S_0x1370097d0;
    %join;
    %vpi_call/w 3 254 "$display", "\012==========================================" {0 0 0};
    %vpi_call/w 3 255 "$display", "Complete System Test Results:" {0 0 0};
    %vpi_call/w 3 256 "$display", "  Total Errors: %0d", v0x137009fb0_0 {0 0 0};
    %load/vec4 v0x137009fb0_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_12.4, 4;
    %vpi_call/w 3 258 "$display", "  ALL SYSTEM TESTS PASSED!" {0 0 0};
    %vpi_call/w 3 259 "$display", "  Enhanced debouncer working correctly!" {0 0 0};
    %jmp T_12.5;
T_12.4 ;
    %vpi_call/w 3 261 "$display", "  %0d SYSTEM TESTS FAILED!", v0x137009fb0_0 {0 0 0};
T_12.5 ;
    %vpi_call/w 3 263 "$display", "==========================================" {0 0 0};
    %vpi_call/w 3 265 "$finish" {0 0 0};
    %end;
    .thread T_12;
    .scope S_0x136709f20;
T_13 ;
    %delay 3567587328, 232;
    %vpi_call/w 3 273 "$display", "ERROR: System testbench timeout!" {0 0 0};
    %vpi_call/w 3 274 "$finish" {0 0 0};
    %end;
    .thread T_13;
# The file index is used to find the file name in the following table.
:file_names 6;
    "N/A";
    "<interactive>";
    "-";
    "tb_complete.sv";
    "keypad_controller.sv";
    "keypad_debouncer.sv";
